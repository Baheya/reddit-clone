{"ast":null,"code":"var __jsx = React.createElement;\nimport { Box, Button } from '@chakra-ui/core';\nimport { Form, Formik } from 'formik';\nimport { withUrqlClient } from 'next-urql';\nimport { useRouter } from 'next/router';\nimport React from 'react';\nimport { InputField } from '../components/InputField';\nimport { Layout } from '../components/Layout';\nimport { useCreatePostMutation } from '../generated/graphql';\nimport { createUrqlClient } from '../utils/createUrqlClient';\nimport { useIsAuth } from '../utils/useIsAuth';\n\nconst CreatePost = ({}) => {\n  const router = useRouter();\n  useIsAuth();\n  const [, createPost] = useCreatePostMutation();\n  return __jsx(Layout, {\n    variant: \"small\"\n  }, __jsx(Formik, {\n    initialValues: {\n      title: '',\n      text: ''\n    },\n    onSubmit: async (values, {\n      setErrors\n    }) => {\n      const {\n        error\n      } = await createPost({\n        input: values\n      });\n\n      if (!error) {\n        router.push('/');\n      }\n    }\n  }, ({\n    isSubmitting\n  }) => __jsx(Form, null, __jsx(InputField, {\n    name: \"title\",\n    label: \"Title\",\n    placeholder: \"title\"\n  }), __jsx(Box, {\n    mt: 4\n  }, __jsx(InputField, {\n    name: \"text\",\n    label: \"Body\",\n    placeholder: \"text...\",\n    textarea: true\n  })), __jsx(Button, {\n    mt: 4,\n    type: \"submit\",\n    variantColor: \"teal\",\n    isLoading: isSubmitting\n  }, \"Create Post\"))));\n};\n\nexport default withUrqlClient(createUrqlClient)(CreatePost);","map":null,"metadata":{},"sourceType":"module"}